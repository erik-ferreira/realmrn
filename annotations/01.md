# RealmDB

## 2 formas de utilizar

### 1º forma

- Criar arquivo de configuração
- Se preocupar em abrir e fechar a conexão
- Realm é um banco de dados baseado em transações(isso é bom porque se alguma coisa falhar, ele desfaz automaticamente)

```tsx
import Realm, { PropertySchema } from "realm"

import { contact } from "./schemas/contact"

export async function getREalmInstance() {
  const realm = await Realm.open({
    schema: [contact],
  })

  return realm
}

// -------------------------------------------------------

import uuid from "react-native-uuid"

export const contact = {
  name: "contact",
  primaryKey: "id",

  properties: {
    id: {
      type: "string",
      default: uuid.v4(),
    },
    name: "string",
    email: "string",
    created_at: {
      type: "date",
      default: new Date().toString(),
    },
    updated_at: {
      type: "date",
      default: new Date().toString(),
    },
  },
}

// -------------------------------------------------------

const realm = await getREalmInstance()

realm.write(() => {
  realm.create("contact", { name, email })
})

realm.close()
Alert.alert("Salvo com sucesso")
```

### 2º forma

- Utilizar uma biblioteca para cuidar de tudo isso
